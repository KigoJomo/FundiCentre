{% extends "base.html" %}
{% load static %}

{% block title %}Home{% endblock %}

{% block body %}
<section class="h-fit p-0">
  
  <div class="hero w-full bg-[url('../images/workshop.jpg')] bg-cover bg-center bg-no-repeat tinted p-6 md:px-24 md:py-12 flex flex-col items-center md:items-start gap-8 md:gap-6">
    <h1 class="text-background text-3xl leading-[3rem] md:leading-[5rem] md:text-5xl">
      Discover Handmade Excellence<br>Direct from Kenyan Artisans
    </h1>

    <p class="text-background md:w-2/5">
      Shop unique, handcrafted furniture and connect directly with skilled local artisans. No middlemen, just quality craftsmanship at your fingertips.
    </p>

    <div class="flex gap-6">
      <a class="button w-fit" href="{% url 'shop' %}">shop now</a>
      {% if not user.is_authenticated %}
        <a class="button-secondary" href="{% url 'login' %}" style="background: transparent; color: white;">login</a>
      {% endif %}
    </div>

    <div class="h-48 w-screen md:w-fit md:ml-auto flex gap-4 overflow-x-scroll md:overflow-hidden pl-6">
      
      {% for product in featured %}
        <img 
          src="{{ product.images.first.image.url }}" 
          alt="FundiCentre"
          class="h-full aspect-square rounded-xl border border-accent hover:rotate-[10deg] transition-all duration-300">
      {% endfor %}
        
    </div>
  </div>

  <div class="w-full overflow-x-hidden px-6 py-24 md:px-24 flex flex-col gap-6">
    <h4 class="text-center">why choose fundicentre?</h4>

    <div class="w-full grid grid-cols-1 md:grid-cols-3 gap-6">
      <div class="w-full flex flex-col items-center justify-center gap-4 bg-gray-100 rounded-xl shadow-lg px-4 py-8 relative">
        <h2 class="text-primary text-center">
          Authentic Craftsmanship
        </h2>
        <p class="text-center">
          Handcrafted furniture made with care by local Kenyan artisans.
        </p>
        <span class="material-symbols-outlined absolute text-gray-500 opacity-10 -z-0" style="font-size: 12rem;">
          construction
          </span>
      </div>

      <div class="w-full flex flex-col items-center justify-center gap-4 bg-gray-100 rounded-xl shadow-lg px-4 py-8 relative">
        <h2 class="text-primary text-center">
          Custom Orders
        </h2>
        <p class="text-center">
          Get furniture tailored to your exact needs and preferences.
        </p>
        <span class="material-symbols-outlined absolute text-gray-500 opacity-10 -z-0" style="font-size: 12rem;">
          build
        </span>
      </div>

      <div class="w-full flex flex-col items-center justify-center gap-4 bg-gray-100 rounded-xl shadow-lg px-4 py-8 relative">
        <h2 class="text-primary text-center">
          Direct Connections
        </h2>
        <p class="text-center">
          No brokers, just a direct link to the artisan behind the craft.
        </p>
        <span class="material-symbols-outlined absolute text-gray-500 opacity-10 -z-0" style="font-size: 12rem;">
          link
        </span>
      </div>
    </div>
  </div>

  <div class="w-full overflow-x-hidden px-6 py-12 md:px-24 flex flex-col gap-12">
    <h3 class="text-center">A place for buyers and sellers</h3>

    <div class="w-full flex flex-col md:flex-row md:items-center md:justify-center gap-8 md:gap-12">
      <div class="w-full md:w-fit flex flex-col items-center justify-center gap-4 md:p-6 md:bg-white md:shadow-2xl md:rounded-3xl">
        <img src="{% static 'images/customer.jpeg' %}" alt="" class="w-32 aspect-square rounded-3xl rotate-6 border border-accent shadow-2xl">

        <div class="flex flex-col gap-2">
          <h4 class="text-primary text-sm font-bold">Join as a customer</h4>
          <ul class="text-gray-600 text-left mb-6 space-y-2">
            <li class="flex items-center gap-2">
              <span class="material-symbols-outlined text-accent align-middle">check_circle</span>
              <p class="text-sm">Unique, high-quality, and custom-made products.</p>
            </li>
            <li class="flex items-center gap-2">
              <span class="material-symbols-outlined text-accent align-middle">check_circle</span>
              <p class="text-sm">Secure payments and reliable deliveries.</p>
            </li>
            <li class="flex items-center gap-2">
              <span class="material-symbols-outlined text-accent align-middle">check_circle</span>
              <p class="text-sm">Support local talent and craftsmanship.</p>
            </li>
          </ul>
          <a 
            href="{% url 'register' %}" 
            class="button-secondary">
            Join as a Customer
          </a>
        </div>
      </div>

      <div class="w-full md:w-[1px] h-[1px] md:h-64 bg-gray-300"></div>

      <div class="w-full md:w-fit flex flex-col items-center justify-center gap-4 md:p-6 md:bg-white md:shadow-2xl md:rounded-3xl">
        <img src="{% static 'images/artisan.jpeg' %}" alt="" class="w-32 aspect-square rounded-3xl -rotate-6 border border-accent shadow-2xl">

        <div class="flex flex-col gap-2">
          <h4 class="text-primary text-sm font-bold">Join as a seller</h4>
          <ul class="text-gray-600 text-left mb-6 space-y-2">
            <li class="flex items-center gap-2">
              <span class="material-symbols-outlined text-accent align-middle">check_circle</span>
              <p class="text-sm">Showcase your unique, handcrafted products.</p>
            </li>
            <li class="flex items-center gap-2">
              <span class="material-symbols-outlined text-accent align-middle">check_circle</span>
              <p class="text-sm">Reach a wider audience and grow your business.</p>
            </li>
            <li class="flex items-center gap-2">
              <span class="material-symbols-outlined text-accent align-middle">check_circle</span>
              <p class="text-sm">Directly connect with customers who value craftsmanship.</p>
            </li>
          </ul>
          <a 
            href="{% url 'register' %}" 
            class="button-secondary">
            Join as a Seller
          </a>
        </div>
      </div>

    </div>
  </div>

  <div class="w-full overflow-x-hidden px-6 py-12 md:px-24 flex flex-col gap-12">
    <h3 class="text-center">Latest Products</h3>

    <div class="w-full grid grid-cols-1 md:grid-cols-3 gap-6">
      {% for product in latest %}
        <div class="w-full aspect-square flex flex-col justify-between gap-4 rounded-xl border border-transparent hover:shadow-2xl hover:border-accent transition-all duration-300 p-4 tinted-bottom overflow-hidden" style="background: url('{{ product.images.first.image.url }}'); background-size: cover; background-position: center;">
           <div class="w-full flex justify-between">
            <p class="bg-white px-2 py-1 rounded-full">by <strong>{{ product.artisan.first_name }}</strong></p>

            <p class="mont text-background font-semibold opacity-100">In stock</p>
           </div>

          <div class="w-full flex justify-between">
            <div class="flex flex-col gap-1">
              <h4 class="text-white drop-shadow-2xl">{{ product.name }}</h4>
              <p class="text-white drop-shadow-2xl">Ksh {{ product.price }}</p>
            </div>

            <form method="POST" action="{% url 'add_to_cart' product.id %}" class="w-fit">
              {% csrf_token %}
              <button type="submit" class="button-secondary aspect-square p-2 rounded-full" style="border-radius: 50%; padding: 0.5rem;" title="Add to cart.">
                <span class="material-symbols-outlined text-accent">shopping_cart</span>
              </button>
            </form>
          </div>
        </div>
      {% endfor %}
    </div>

    <a href="{% url 'shop' %}" class="button-secondary">Shop More </a>
  </div>

  <div class="w-full overflow-x-hidden px-6 py-12 md:px-24 flex flex-col md:flex-row gap-12 border-t border-black/20">
    <h2 class="text-primary">Contact Us</h2>
    
    <div class="w-fit flex flex-col md:flex-row gap-12 md:ml-auto">
      <div class="w-fit flex flex-col gap-4 border-l md:border-black/20 border-accent px-8">
        <h4 class="text-primary text-lg font-bold">Our Address</h4>
        <p class="text-gray-600">
          FundiCentre<br>
          8080 Embassy<br>
          Nyeri, Kenya
        </p>
      </div>

      <div class="w-fit flex flex-col gap-4 border-l md:border-black/20 border-accent px-8">
        <h4 class="text-primary text-lg font-bold">Contact Information</h4>
        <p class="text-gray-600">
          Phone: +254 700 123 456<br>
          Email: info@fundicentre.com
        </p>
      </div>
    </div>
  </div>

</section>
{% endblock %}